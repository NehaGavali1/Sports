(window.webpackJsonp=window.webpackJsonp||[]).push([[6,41],{1028:function(t,e,n){"use strict";n(984)},1029:function(t,e,n){"use strict";n(985)},1064:function(t,e,n){t.exports={}},1106:function(t,e,n){"use strict";n.r(e);n(11),n(58),n(4),n(3),n(21),n(66);var r={name:"EventCalendarFilter",props:{filter:{type:Object,required:!0},activeFilters:{type:Object,required:!0}},data:function(){return{isOpened:!1}},computed:{filterOptionID:function(){return"filter-category-"+this.filterTitle.toLowerCase().replace(/\W/g,"-")},filterTitle:function(){return this.filter.title},selectedOptions:function(){return this.activeFilters[this.filterTitle]},selectedOptionIDs:function(){return this.selectedOptions?this.selectedOptions.map((function(t){return t.id})):[]},selectedOptionString:function(){return this.selectedOptions?this.selectedOptions.map((function(t){return t.title})).join(", "):void 0}},watch:{isOpened:function(t){t?(document.addEventListener("click",this.onClick),document.addEventListener("scroll",this.onScroll,{passive:!0})):(document.removeEventListener("click",this.onClick),document.removeEventListener("scroll",this.onScroll,{passive:!0}))}},methods:{updateFilter:function(t){this.$emit("updateFilter",{title:this.filterTitle,tag:t})},onScroll:function(){this.isOpened=!1},onClick:function(t){var e=this.$refs.eventCalendarFilter;!e.contains(t.target)&&e!==t.target&&(this.isOpened=!1)},getValidNodeID:function(text){return text.toLowerCase().replace(/\W/g,"-")}}},l=(n(1028),n(1)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"eventCalendarFilter",class:{EventCalendarFilter:!0,"EventCalendarFilter--opened":t.isOpened,"EventCalendarFilter--active":!!t.selectedOptions}},[n("Heading",{staticClass:"EventCalendarFilter__label",attrs:{tag:"p",size:"h6--small",family:"sans","text-transform":"uppercase"}},[t._v("\n    "+t._s(t.filterTitle)+"\n  ")]),t._v(" "),n("button",{staticClass:"EventCalendarFilter__input",attrs:{"aria-expanded":""+t.isOpened,"aria-describedby":t.filterOptionID},on:{click:function(e){t.isOpened=!t.isOpened}}},[n("p",{staticClass:"EventCalendarFilter__activeInput"},[t._v("\n      "+t._s(t.selectedOptionString||"All")+"\n    ")]),t._v(" "),n("BaseIcon",{staticClass:"EventCalendarFilter__chevron",attrs:{name:"chevron"}})],1),t._v(" "),n("div",{staticClass:"EventCalendarFilter__options",attrs:{id:t.filterOptionID,"aria-hidden":""+!t.isOpened,role:"tooltip",tabindex:"-1"}},[n("ul",{staticClass:"EventCalendarFilter__list"},[n("li",{staticClass:"EventCalendarFilter__listItem"},[n("BaseCheckbox",{attrs:{"aria-labelledby":t.getValidNodeID(t.filterTitle)+"-all",role:"option",value:!t.selectedOptions},on:{input:function(e){return t.updateFilter(void 0)}}},[t._v("\n          All\n        ")])],1),t._v(" "),t._l(t.filter.tags,(function(e){return n("li",{key:e.id,staticClass:"EventCalendarFilter__listItem"},[n("BaseCheckbox",{attrs:{"aria-labelledby":t.getValidNodeID(t.filterTitle)+"-"+t.getValidNodeID(e.title),"native-value":e.title,role:"option",value:t.selectedOptionIDs.includes(e.id)},on:{input:function(n){return t.updateFilter(e)}}},[t._v("\n          "+t._s(e.title)+"\n        ")])],1)}))],2)])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Heading:n(71).default,BaseIcon:n(82).default,BaseCheckbox:n(567).default})},1107:function(t,e,n){"use strict";n.r(e);var r=n(26),l=(n(39),n(21),n(11),n(44),n(945)),o={name:"EventCalendarHead",props:{year:{type:Number,required:!0},month:{type:Number,required:!0},config:{type:Object,required:!0}},computed:{displayMonth:function(){return l.a[this.month+1].default},isPrevDisabled:function(){var t=this.config.minDate.split("-").map((function(t,i){return Number(1===i?t-1:t)})),e=Object(r.a)(t,2),n=e[0],l=e[1],o=new Date(this.year,this.month-1);return o.getFullYear()<n||o.getFullYear()===n&&o.getMonth()<l},isNextDisabled:function(){if(!this.config.maxDate)return!1;var t=this.config.maxDate.split("-").map((function(t,i){return Number(1===i?t-1:t)})),e=Object(r.a)(t,2),n=e[0],l=e[1],o=new Date(this.year,this.month+1);return o.getFullYear()>n||o.getFullYear()===n&&o.getMonth()>l}},methods:{changePage:function(t){var e=this.month+t;return e<0?this.$emit("updatePage",{year:this.year-1,month:11}):e>11?this.$emit("updatePage",{year:this.year+1,month:0}):this.$emit("updatePage",{year:this.year,month:e})}}},c=(n(1029),n(1)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"EventCalendarHead"},[n("div",{staticClass:"EventCalendarHead--wrapper"},[n("div",{staticClass:"EventCalendarHead__year"},[n("Copy",{attrs:{tag:"span",size:"small","font-style":"italic"}},[t._v("\n        "+t._s(t.year)+"\n      ")])],1),t._v(" "),n("div",{staticClass:"EventCalendarHead__body"},[n("button",{class:{EventCalendarHead__control:!0,"EventCalendarHead__control--prev":!0,"EventCalendarHead__control--disabled":t.isPrevDisabled},attrs:{"aria-label":"Previous month"},on:{click:function(e){return t.changePage(-1)}}},[n("BaseIcon",{staticClass:"EventCalendarHead__controlArrow",attrs:{name:"icon-plain-arrow"}})],1),t._v(" "),n("div",{staticClass:"EventCalendarHead__month"},[n("Heading",{attrs:{tag:"span",size:"h4"}},[t._v("\n          "+t._s(t.displayMonth)+"\n        ")])],1),t._v(" "),n("button",{class:{EventCalendarHead__control:!0,"EventCalendarHead__control--next":!0,"EventCalendarHead__control--disabled":t.isNextDisabled},attrs:{"aria-label":"Next month"},on:{click:function(e){return t.changePage(1)}}},[n("BaseIcon",{staticClass:"EventCalendarHead__controlArrow",attrs:{name:"icon-plain-arrow"}})],1)])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Copy:n(99).default,BaseIcon:n(82).default,Heading:n(71).default})},1138:function(t,e,n){"use strict";n(1064)},1199:function(t,e,n){"use strict";n.r(e);n(6),n(9),n(10),n(35),n(22),n(52),n(36),n(40);var r=n(959),l=n(18),o=n(26),c=n(2),d=(n(218),n(3),n(28),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(27),n(37),n(73),n(21),n(7),n(582),n(65),n(117),n(11),n(58),n(130),n(43),n(51),n(15),n(4),n(55),n(5),n(44),n(12)),f=n(1034),v=n(1106),h=n(1107),m=n(1200),y=n(1033);function C(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){c=!0,l=t},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw l}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function E(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var j={name:"EventCalendar",components:{EventCalendarFilter:v.default,EventCalendarHead:h.default,EventCalendarPane:m.default},props:{initCalendar:{type:Object,default:function(){return{}}},initEvents:{type:Array,required:!0},initEventsCallList:{type:Array,required:!0},filters:{type:Array,default:function(){return[]}},config:{type:Object,required:!0}},setup:function(){var t=Object(d.ref)(null),e=Object(f.useElementVisibility)(t),n=Object(d.ref)(null),r=Object(f.useElementVisibility)(n),l=Object(d.computed)((function(){return!e.value&&r.value}));return Object(d.watch)(l,(function(t){t?document.body.classList.add("has-multi-sticky-bar"):document.body.classList.remove("has-multi-sticky-bar")})),{headScrollTracker:t,paneTracker:n,isHeadSticky:l}},data:function(){return{currentMonth:void 0,currentYear:void 0,today:void 0,eventsMap:new Map,eventsCallList:[],activeFilters:{},calendarHeadConfig:{minDate:"2022-02-01",maxDate:null},reactiveHeaderTimeout:void 0}},computed:{calendar:function(){return Object(y.b)(new Date(this.currentYear,this.currentMonth))},currentDate:function(){return new Date(this.currentYear,this.currentMonth,1)},isCurrentMonthLoaded:function(){return this.eventsCallList.includes(Object(y.c)(this.currentDate))}},watch:{currentDate:function(t){var e=this;[t,new Date(this.currentYear,this.currentMonth-1,1),new Date(this.currentYear,this.currentMonth+1,1)].map((function(t){return e.getEvents(t)}))},activeFilters:function(t){var e=E({},t);Object.keys(e).map((function(t){return void 0===e[t]&&delete e[t]}));var n=Object.fromEntries(Object.keys(e).map((function(t){return[t.toLowerCase(),e[t].map((function(t){return t.title.toLowerCase()}))]})));Object.entries(this.$route.query).toString()!==Object.entries(n).toString()&&this.$router.replace({query:n})}},beforeDestroy:function(){this.reactiveHeaderTimeout&&(clearTimeout(this.reactiveHeaderTimeout),this.$nuxt.$emit("setHeaderScrollCtrl",!0))},created:function(){var t=new Date;t.setHours(0,0,0,0),this.today=t,this.currentMonth=t.getMonth(),this.currentYear=t.getFullYear(),this.eventsCallList=this.initEventsCallList,this.mapEvents(this.initEvents),this.calendarHeadConfig=Object.assign({},this.calendarHeadConfig,E({},this.config))},mounted:function(){this.parseQueryParamsToFilters();var t=this.initCalendar,e=t.currentMonth,n=t.currentYear;void 0!==e&&void 0!==n&&this.onUpdatePage({year:n,month:e,isAssigned:!0})},methods:{parseQueryParamsToFilters:function(){var t,e=this,n=new URLSearchParams(window.location.search).entries(),r={},c=C(n);try{var d=function(){var n=t.value.map((function(t){return t.replace(/\+/g," ")})),c=Object(o.a)(n,2),d=c[0],f=c[1],v=e.filters.find((function(t){return t.title.toLowerCase()===d})),h=null==v?void 0:v.tags.find((function(t){return t.title.toLowerCase()===f}));if(h){var m=r[v.title]||[];m.some((function(t){return t.id===h.id}))||(r[v.title]=0===m.length?[h]:[].concat(Object(l.a)(m),[h]))}};for(c.s();!(t=c.n()).done;)d()}catch(t){c.e(t)}finally{c.f()}this.activeFilters=Object.assign({},this.activeFilters,r)},onUpdateFilter:function(t){var title=t.title,e=t.tag,n=this.activeFilters[title],r=void 0===e;if(n&&!r){var o=Object(l.a)(this.activeFilters[title]),d=o.filter((function(t){return t.id!==e.id}));o.length!==d.length?this.activeFilters=Object.assign({},this.activeFilters,Object(c.a)({},title,0===d.length?void 0:d)):this.activeFilters=Object.assign({},this.activeFilters,Object(c.a)({},title,[].concat(Object(l.a)(d),[e])))}else this.activeFilters=Object.assign({},this.activeFilters,Object(c.a)({},title,r?void 0:[e]))},onUpdatePage:function(t){var e=this,n=t.year,r=t.month,l=t.isAssigned,o=void 0!==l&&l;if(this.currentMonth=r,this.currentYear=n,!o&&this.isHeadSticky){this.$nuxt.$emit("setHeaderScrollCtrl",!1);var c=document.body.classList.contains("header-visible"),d=window.scrollY+this.$refs.paneTracker.getBoundingClientRect().y-60-(c?60:0);this.$nextTick((function(){window.scrollTo({top:d,left:0,behavior:"smooth"})})),this.reactiveHeaderTimeout=setTimeout((function(){e.$nuxt.$emit("setHeaderScrollCtrl",!0),e.reactiveHeaderTimeout=clearTimeout(e.reactiveHeaderTimeout)}),1e3)}},getEvents:function(t){var e=this,n=Object(y.c)(t);!e.eventsCallList.includes(n)&&this.$api.getEvents(Object(y.a)(t)).then((function(data){e.eventsCallList.includes(n)||(e.mapEvents(data),e.eventsCallList.push(n))}))},mapEvents:function(t){var e=this;t.forEach((function(t){var n=t.date,o=n.isMultipleDays,c=n.start,d=n.end,f=c.raw,v=Object(r.a)(Date,Object(l.a)(f.split("-").map((function(t,i){return 1===i?t-1:t})))),h=[f];if(o)for(var m=d.raw,C=Object(r.a)(Date,Object(l.a)(m.split("-").map((function(t,i){return 1===i?t-1:t})))),O=new Date(v.getFullYear(),v.getMonth(),v.getDate()+1);O<=C;)h.push(Object(y.c)(O)),O=new Date(O.getFullYear(),O.getMonth(),O.getDate()+1);h.forEach((function(n){var r=e.eventsMap.get(n)||[];r.find((function(e){return e.id===t.id}))||(r.push(t),e.eventsMap.set(n,r))}))}))}}},w=(n(1138),n(1)),component=Object(w.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Container",{class:{EventCalendar:!0,"EventCalendar--sticky":t.isHeadSticky}},[n("div",{staticClass:"EventCalendarFilters"},[t._l(t.filters,(function(filter){return[n("EventCalendarFilter",{key:filter.title,attrs:{filter:filter,"active-filters":t.activeFilters},on:{updateFilter:t.onUpdateFilter}})]}))],2),t._v(" "),n("div",{ref:"headScrollTracker"}),t._v(" "),n("EventCalendarHead",{attrs:{year:t.currentYear,month:t.currentMonth,config:t.calendarHeadConfig},on:{updatePage:t.onUpdatePage}}),t._v(" "),n("div",{ref:"paneTracker"},[n("EventCalendarPane",{attrs:{calendar:t.calendar,today:t.today,year:t.currentYear,month:t.currentMonth,"active-filters":t.activeFilters,"events-call-list":t.eventsCallList,"events-map":t.eventsMap,"is-ready":t.isCurrentMonthLoaded}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Container:n(128).default})},943:function(t,e,n){"use strict";function r(t,p){return r=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t},r(t,p)}n.d(e,"a",(function(){return r}))},959:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(943);function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=l()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var l=new(Function.bind.apply(t,a));return n&&Object(r.a)(l,n.prototype),l},o.apply(null,arguments)}},984:function(t,e,n){t.exports={}},985:function(t,e,n){t.exports={}}}]);