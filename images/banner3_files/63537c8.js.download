(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{1016:function(t,e,n){"use strict";e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},1017:function(t,e,n){"use strict";var r=n(362),o=n(136);e.a=function(t){if(!Object(o.a)(t))return!1;var e=Object(r.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1018:function(t,e,n){"use strict";e.a=function(t,e){return t===e||t!=t&&e!=e}},1038:function(t,e,n){"use strict";var r=n(1017),o=n(1016);e.a=function(t){return null!=t&&Object(o.a)(t.length)&&!Object(r.a)(t)}},1039:function(t,e,n){"use strict";var r=n(41),o=(n(11),/^(?:0|[1-9]\d*)$/);e.a=function(t,e){var n=Object(r.a)(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}},1061:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));n(3),n(577);var r=n(255),o=n(254),c=n(943);var f=n(41);function l(t,e){if(e&&("object"===Object(f.a)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var v=n(959);function h(t){var e="function"==typeof Map?new Map:void 0;return h=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Object(v.a)(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(c.a)(r,t)},h(t)}n(22);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Object(c.a)(t,e)}(n,t);var e=y(n);function n(){var t,content=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)(this,n),(t=e.call(this)).name="CustomNotFoundException",t.content=content,t}return Object(r.a)(n)}(h(Error))},1068:function(t,e,n){t.exports={}},1149:function(t,e,n){"use strict";n(1068)},1209:function(t,e,n){"use strict";n.r(e);n(7),n(6),n(9),n(5),n(10);var r=n(2),o=n(8);n(34),n(4),n(3),n(365),n(366),n(21),n(28),n(27);var c=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var c=Array(o);++r<o;)c[r]=t[r+e];return c},f=n(41),l=n(1018),d=n(1038),v=n(1039),h=n(136);var y=function(t,e,object){if(!Object(h.a)(object))return!1;var n=Object(f.a)(e);return!!("number"==n?Object(d.a)(object)&&Object(v.a)(e,object.length):"string"==n&&e in object)&&Object(l.a)(object[e],t)},O=n(338),j=1/0;var m=function(t){return t?(t=Object(O.a)(t))===j||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var w=function(t){var e=m(t),n=e%1;return e==e?n?e-n:e:0},P=Math.ceil,x=Math.max;var k=function(t,e,n){e=(n?y(t,e,n):void 0===e)?1:x(w(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,f=0,l=Array(P(r/e));o<r;)l[f++]=c(t,o,o+=e);return l},R=n(91),F=n(944),_=n(352),S=n(354),E=n(357),T=n(967),D=n(1061);function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function $(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var B={name:"CollectionPageTemplate",components:{SectionsLoop:E.a},mixins:[_.a,F.a],asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,f,l,d,v,h,data,y,O,content;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$api,r=t.i18n,o=t.route,c=t.error,f=t.query,e.prev=1,l=o.params,d=Object(R.b)(r.locale),v="?type=collectionPage&include=collections,products,panels,reviews&currency=".concat(d),e.next=7,n.getPage(l.slug,v).catch((function(t){var e;if(null!==(e=t.response)&&void 0!==e&&e.data)throw new D.a(t.response.data);throw t}));case 7:return h=e.sent,data=h.data,y=h.included,O=Object(S.c)(data,y),content=Object(S.b)(O.content,O.collections,{showFilter:O.showFilter,filter:O.filter,preSetQuery:f},O.quickBuyEnabled),e.abrupt("return",$($({},O),{},{content:content,collectionRequireStockFetch:O.collections.some(T.b)||O.showFilter&&O.filter.filterCategories.some((function(filter){return"size"===filter.slug}))}));case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",c({statusCode:404,message:"Collection not found",content:null===e.t0||void 0===e.t0?void 0:e.t0.content}));case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))()},data:function(){return{stockFetched:!1}},fetchOnServer:!1,fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.collectionRequireStockFetch){e.next=2;break}return e.abrupt("return");case 2:if(null==(n=t.collections.map((function(t){return t.products.map((function(t){return t.handle}))})).flat())||!n.length){e.next=10;break}return r=k(n,20),e.next=7,Promise.all(r.map(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("inventory/fetchByHandles",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:t.stockFetched=!0,e.next=11;break;case 10:t.stockFetched=!0;case 11:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.$nextTick((function(){var e;t.$gtag("event","view_item_list",{itemListName:t.title,content:t.collections.length?null===(e=t.collections[0])||void 0===e?void 0:e.products:null})}))}},A=B,M=(n(1149),n(1)),component=Object(M.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CollectionPage"},[t.content.length?n("SectionsLoop",{attrs:{sections:t.content,"collection-require-stock-fetch":t.collectionRequireStockFetch,"stock-fetched":t.stockFetched}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},943:function(t,e,n){"use strict";function r(t,p){return r=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t},r(t,p)}n.d(e,"a",(function(){return r}))},944:function(t,e,n){"use strict";var r=n(2),o=n(18);n(15),n(7),n(6),n(4),n(3),n(9),n(5),n(10);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={head:function(){var t=this._data,e=t.seo,n=t.noIndex?[].concat(Object(o.a)(e.metaTags),[{tag:"meta",attributes:{name:"robots",content:"noindex, nofollow"}}]):e.metaTags;return f(f({},this.$metaHead(n,this.$route)),{},{__dangerouslyDisableSanitizers:["title"]})}}},959:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(943);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,n){return c=o()?Reflect.construct:function(t,e,n){var a=[null];a.push.apply(a,e);var o=new(Function.bind.apply(t,a));return n&&Object(r.a)(o,n.prototype),o},c.apply(null,arguments)}},967:function(t,e,n){"use strict";n.d(e,"d",(function(){return v})),n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return O}));var r=n(18),o=(n(51),n(3),n(22),n(37),n(73),n(5),n(15),n(292)),c=n(38);function f(t,e){if(!t||!t.productAttributes)return null;var n=t.productAttributes.find((function(t){return t.name===e}));return n&&n.options&&n.options.length?n.options[0]:null}function l(t,e){if(t.type===c.f)return t.collectionType||null;switch(e){case o.b:return t.productType||null;case o.d:return function(t){return f(t,"Category")||f(t,"Class")||o.c}(t);default:return null}}function d(t,e){return function(t){return o.a.includes(t)}(e)?t.products.reduce((function(t,n){var o=l(n,e);if(n.type===c.f&&"Unisex"===o)return[c.i,c.m].forEach((function(e){var o=t.find((function(t){return t.title===e}));o?o.products.push(n):t=[].concat(Object(r.a)(t),[{showTitle:!0,title:e,products:[n]}])})),t;var f=t.find((function(t){return t.title===o}));return f?(f.products.push(n),t):[].concat(Object(r.a)(t),[{showTitle:!0,title:o,products:[n]}])}),[]):[t]}var v=function(t){return d(t,o.d)},h=function(t){return d(t,o.b)},y=function(t){return function(t,e,n){return t.type===c.f||!!t.variants.length}},O=function(t){return t.collectionType===o.e}}}]);