(window.webpackJsonp=window.webpackJsonp||[]).push([[5,25,26,27],{1003:function(t,e,n){t.exports={}},1004:function(t,e,n){t.exports={}},1021:function(t,e,n){"use strict";var r=n(18),o=(n(52),n(28),n(3),n(5),n(21),n(35),n(22),n(11),n(6),n(36),n(40),n(27),n(207));function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){d=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var d="--grid-item-height";e.a={data:function(){return{collectionGridEl:void 0,gridObserver:void 0}},mounted:function(){this.$refs.collectionGridRoot?this.collectionGridEl=this.$refs.collectionGridRoot:this.$refs.collectionSection&&(this.collectionGridEl=this.$refs.collectionSection.querySelector(".CollectionPanel__grid")),this.collectionGridEl&&this.initGridObserver()},beforeDestroy:function(){this.gridObserver&&this.gridObserver.disconnect()},methods:{initGridObserver:function(){var t=this;if(!this.gridObserver&&this.collectionGridEl){var e=Object(o.a)((function(){t.updateGridStyleVariables()}),200,{leading:!0});this.gridObserver=new MutationObserver((function(t){var n,r=l(t);try{for(r.s();!(n=r.n()).done;){"childList"===n.value.type&&e()}}catch(t){r.e(t)}finally{r.f()}})),this.gridObserver.observe(this.collectionGridEl,{childList:!0}),this.updateGridStyleVariables()}},updateGridStyleVariables:function(){var t=Array.from(document.querySelectorAll(".CollectionPanel__grid"));t.forEach((function(t){return t.style.cssText+="".concat(d,":0px")})),requestAnimationFrame((function(){var e=Array.from(document.querySelectorAll(".CollectionPanel__grid")).map((function(t){var e=t.querySelector(".CollectionPanel__grid-item:not(.CollectionPanel__grid-item--large)");return e?e.getBoundingClientRect().height:0}));t.forEach((function(t){return t.style.cssText+="".concat(d,":").concat(Math.max.apply(Math,Object(r.a)(e)),"px")}))}))}}}},1022:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l}));var r={PRICE_ASCE:"PRICE_ASCE",PRICE_DESC:"PRICE_DESC",NAME_ASCE:"NAME_ASCE",NAME_DESC:"NAME_DESC",RECOMMENDED:"RECOMMENDED"},o={filterOptions:[{isChecked:!0,name:"Recommended",slug:r.RECOMMENDED},{isChecked:!1,name:"Price: Low to High",slug:r.PRICE_ASCE},{isChecked:!1,name:"Price: High to Low",slug:r.PRICE_DESC},{isChecked:!1,name:"Product Name: A-Z",slug:r.NAME_ASCE},{isChecked:!1,name:"Product Name: Z-A",slug:r.NAME_DESC}],name:"Sort",slug:"sort"},l={size:{XXS:1,XS:2,S:3,"S/M":4,M:5,"M/L":6,L:7,"L/XL":8,XL:9,XXL:10,"One Size":11,"O/S":12,"One Issue":13,OS:14,1:15,2:16,3:17,4:18,5:19,6:20,7:21,8:22,9:23,10:24,11:25,12:26,13:27,14:28,15:29,16:30},gender:{Men:1,Women:2,Unisex:3}}},1051:function(t,e,n){"use strict";n(1003)},1052:function(t,e,n){"use strict";n(1004)},1089:function(t,e,n){t.exports={}},1121:function(t,e,n){"use strict";n.r(e);var r={name:"CollectionFilterCategories",props:{handle:{type:String,default:""},isOpen:{type:Boolean,default:!1},categories:{type:Array,required:!0},hasActiveFilters:{type:Boolean,required:!0}},methods:{handleClearBtn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.$emit("resetFilters",t)}}},o=r,l=(n(1051),n(1)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"FilterCategories",class:{"overlay-is-open":t.isOpen}},[n("div",{staticClass:"FilterCategories__header"},[n("PrimaryLink",{attrs:{transform:"uppercase",block:"block",accent:"navy",weight:"medium",opaque:""},nativeOn:{click:function(e){return t.$emit("close")}}},[t._v("\n      Close\n    ")]),t._v(" "),n("PrimaryLink",{directives:[{name:"show",rawName:"v-show",value:t.hasActiveFilters,expression:"hasActiveFilters"}],attrs:{transform:"uppercase",accent:"gold"},nativeOn:{click:function(e){return t.handleClearBtn()}}},[t._v("\n      Clear\n    ")])],1),t._v(" "),t._l(t.categories,(function(e,r){return n("CollectionFilterCategory",{key:r,attrs:{name:t.handle+"-"+e.name,handle:t.handle,heading:e.name,slug:e.slug,options:e.filterOptions},on:{resetCategory:t.handleClearBtn}})})),t._v(" "),n("PrimaryLink",{directives:[{name:"show",rawName:"v-show",value:t.hasActiveFilters,expression:"hasActiveFilters"}],staticClass:"FilterCategories__clear-btn",attrs:{transform:"uppercase",accent:"gold"},nativeOn:{click:function(e){return t.handleClearBtn()}}},[t._v("\n    Clear\n  ")]),t._v(" "),n("div",{staticClass:"FilterCategories__apply"},[n("PrimaryButton",{staticClass:"FilterCategories__apply-btn",on:{click:function(e){return t.$emit("close")}}},[t._v("\n      Apply\n    ")])],1)],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PrimaryLink:n(72).default,CollectionFilterCategory:n(978).default,PrimaryButton:n(109).default})},1122:function(t,e,n){"use strict";n.r(e);n(7),n(6),n(4),n(9),n(5),n(10);var r=n(18),o=n(2),filter=(n(51),n(3),n(21),n(1022));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"CollectionFilterSort",props:{handle:{type:String,default:"",require:!0},sorting:{type:Object,default:function(){return c({},filter.a)},require:!0}},computed:{currentSorting:function(){return this.sorting.filterOptions.find((function(option){return option.isChecked})).slug}},methods:{onUpdateOptionState:function(t){var e=this.currentSorting===t.optionSlug,n=c(c({},this.sorting),{},{filterOptions:Object(r.a)(this.sorting.filterOptions.map((function(option){return option.isChecked=e?option.slug===filter.c.RECOMMENDED:option.slug===t.optionSlug,option})))});this.$emit("update:sorting",n)}}},f=(n(1052),n(1)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"FilterSort"},[n("CollectionFilterCategory",{attrs:{name:t.handle+"-"+t.sorting.name,handle:t.handle,heading:t.sorting.name,slug:t.sorting.slug,options:t.sorting.filterOptions,"is-sorting":""},on:{updateOptionState:t.onUpdateOptionState}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CollectionFilterCategory:n(978).default})},1177:function(t,e,n){"use strict";n(1089)},1198:function(t,e,n){"use strict";n.r(e);n(6),n(9),n(10);var r=n(18),o=n(2),l=(n(4),n(3),n(51),n(21),n(132),n(39),n(37),n(73),n(11),n(58),n(5),n(55),n(15),n(22),n(7),n(215),n(44),n(66),n(164),n(28),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(27),n(365),n(366),n(1197)),c=n(25),d=n(1021),f=n(353),h=function(t,e,n){var r=t.find((function(t){return t.slug===e}));return!(null==r||!r.filterOptions.length)&&(n?r.filterOptions.find((function(t){return t.slug===n}))||!1:r)},v=n(1022),m=n(38),O=n(967),y=n(42),C=n(292);function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var F={name:"CollectionFilter",mixins:[d.a],props:{handle:{type:String,default:"collection-handle"},filter:{type:Object,required:!0},products:{type:Array,default:function(){return[]}},preSetQuery:{type:Object,default:function(){return{}}},isSale:{type:Boolean,default:!1}},data:function(){return{statsObserver:void 0,filterOverlayIsOpen:!1,scrollCtrlTimeout:void 0,isStatsSticky:!1,focusedCategory:"",activeFilters:[],availableFilters:[],hideProductIds:[],adjustedFilter:this.filter,queryParams:null,sorting:_({},v.a),initialised:!1}},computed:_(_({},Object(c.c)("inventory",{variantHasStock:"isAvailable"})),{},{currentSorting:function(){return this.sorting.filterOptions.find((function(option){return option.isChecked})).slug},allProducts:function(){return this.products.map((function(t){return t.type!==m.f?Object(f.a)(t):t})).filter(Object(O.a)())},mappedProducts:function(){return this.allProducts.filter((function(t){return t.type!==m.f&&t.variants.length}))},mappedPanels:function(){return this.allProducts.filter((function(t){return t.type===m.f}))},totalFiltersApplied:function(){return this.activeFilters.reduce((function(t,filter){var e;return t+((null==filter||null===(e=filter.filterOptions)||void 0===e?void 0:e.filter((function(option){return option.isChecked})))||[]).length}),0)},filteredPanels:function(){var t=this;return this.totalFiltersApplied>0?this.mappedPanels.filter((function(e){return t.activeFilters.every((function(n){var r=(null==n?void 0:n.filterOptions)||[];return!r.length||r.some((function(option){return t.includesFilterAttributes(n.slug,option,e)}))}))})):this.mappedPanels},filteredProducts:function(){var t=this,e=Object(r.a)(this.mappedProducts);switch(this.totalFiltersApplied>0&&(e=e.filter((function(e){return t.activeFilters.every((function(n){var r=(null==n?void 0:n.filterOptions)||[];return!r.length||r.some((function(option){return t.includesFilterAttributes(n.slug,option,e)}))}))}))),this.currentSorting){case v.c.PRICE_ASCE:e=e.sort((function(a,b){return Number(a.variants[0].price.amount)-Number(b.variants[0].price.amount)}));break;case v.c.PRICE_DESC:e=e.sort((function(a,b){return Number(a.variants[0].price.amount)-Number(b.variants[0].price.amount)})).reverse();break;case v.c.NAME_ASCE:e=e.sort((function(a,b){return String(a.title).localeCompare(String(b.title))}));break;case v.c.NAME_DESC:e=e.sort((function(a,b){return String(a.title).localeCompare(String(b.title))})).reverse()}return this.hideProductIds.length&&(e=e.filter((function(e){return!t.hideProductIds.includes(e.id)}))),e},filteredProductsCount:function(){return this.filteredProducts.length},adjustedProducts:function(){return this.insertPanelsToFilteredProducts(this.filteredProducts,this.filteredPanels,this.currentSorting!==v.c.RECOMMENDED)},shouldOverrideProductLabelByProductType:function(){var t=!!this.activeFilters.find((function(filter){return"gender"===filter.slug}));return!(!this.isSale||t)||this.adjustedFilter.filterCategories.find((function(t){return"gender"===t.slug}))&&!t},shouldHideProductLabel:function(){var t=!!this.activeFilters.find((function(filter){return"gender"===filter.slug}));return this.isSale&&t}}),watch:{preSetQuery:function(){this.onResetFilters("all",!1),this.applyQueryParamFilters()},queryParams:function(t,e){JSON.stringify(e)!==JSON.stringify(t)&&(this.$router.replace({query:t}),this.handleTracking())},filteredProducts:function(t,e){this.updateAvailableFilters()},currentSorting:function(t){this.initialised&&this.handleHeaderScroll(),this.initialised&&this.updateQueryParams()},activeFilters:function(t){this.hideProductIds=[]}},mounted:function(){this.$nuxt.$on("updateOptionState",this.toggleOptionState),this.initialiseFilterOptions(),this.applyQueryParamFilters(),this.initialised=!0;var t=this;this.statsObserver=new IntersectionObserver((function(e){document.body.classList.add("has-multi-sticky-bar"),0===e[0].intersectionRatio?t.isStatsSticky=!0:1===e[0].intersectionRatio&&(t.isStatsSticky=!1,document.body.classList.remove("has-multi-sticky-bar"))}),{threshold:[0,.01,1]}),this.statsObserver.observe(this.$refs.stickyToggle)},methods:{onResetFilters:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("all"===t)return this.initialiseFilterOptions(),void(n&&this.updateQueryParams());this.activeFilters=this.activeFilters.filter((function(filter){return filter.slug!==t}));var r=this.availableFilters.find((function(e){return e.slug===t}));r&&(r.filterOptions.forEach((function(option){option.isChecked=!1})),this.updateAvailableFilters(),this.$nextTick((function(){return e.updateQueryParams()})))},hideProductById:function(t){this.hideProductIds.push(t)},handleHeaderScroll:function(){var t=this,e=this;if(this.$refs.collectionSection){var n=this.$refs.collectionSection;if(this.$refs.collectionSection.getBoundingClientRect().top<=0){clearTimeout(this.scrollCtrlTimeout),this.$nuxt.$emit("setHeaderScrollCtrl",!1);var r=setTimeout((function(){return t.$nuxt.$emit("setHeaderScrollCtrl",!0)}),3e3);this.$nextTick((function(){n.scrollIntoView({behavior:"smooth"}),new Promise((function(t){requestAnimationFrame((function n(){return e.$refs.collectionSection?0===e.$refs.collectionSection.getBoundingClientRect().top?t():void requestAnimationFrame(n):t()}))})).then((function(){clearTimeout(r),e.scrollCtrlTimeout=setTimeout((function(){return t.$nuxt.$emit("setHeaderScrollCtrl",!0)}),300)}))}))}}},updateActiveFilters:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.activeFilters=this.availableFilters.reduce((function(t,filter){var e,n=(null==filter||null===(e=filter.filterOptions)||void 0===e?void 0:e.filter((function(option){return option.isChecked})))||[];return n.length?[].concat(Object(r.a)(t),[_(_({},filter),{},{filterOptions:n})]):t}),[]),t&&this.updateQueryParams()},toggleOptionState:function(t){var e=t.handle,n=t.catSlug,r=t.optionSlug;if(e===this.handle){this.focusedCategory=n;var option=h(this.availableFilters,n,r);option&&(option.isChecked=!option.isChecked,this.updateActiveFilters(),this.handleHeaderScroll())}},initialiseFilterOptions:function(){var t,e=this;this.activeFilters=[];var n=Object(r.a)((null===(t=this.filter)||void 0===t?void 0:t.filterCategories)||[]),o=this.getProductOptions(),l=n.map((function(t){var n,r=v.b[t.slug],l=((null==t||null===(n=t.filterOptions)||void 0===n?void 0:n.map((function(option){return _(_({},option),{},{isChecked:!1})})))||[]).sort((function(a,b){return e.sortOptions(a,b,r)})).filter((function(option){return e.isFilterOptionAvailableInProducts(t.name,option,o)}));return _(_({},t),{},{filterOptions:l})}));this.availableFilters=l,this.adjustedFilter=Object.assign({},this.filter,{filterCategories:l})},sortOptions:function(a,b,t){return t?this.sortByMap(t[a.name],t[b.name]):this.sortAlphabetically(a.name,b.name)},sortByMap:function(a,b){return(a||100)-(b||100)},sortAlphabetically:function(a,b){return a===b?0:a<b?-1:1},isOptionChecked:function(t,e){var option=h(this.activeFilters,t,e);return!!option&&option.isChecked},updateAvailableFilters:function(){var t=this;this.availableFilters=this.availableFilters.map((function(e){var n;if(e.slug===t.focusedCategory)return e;var filter=(null===(n=t.adjustedFilter)||void 0===n?void 0:n.filterCategories)||[],r=h(filter,e.slug),o=(null==r?void 0:r.filterOptions)||[],l=v.b[e.slug],c=o.map((function(option){return _(_({},option),{},{isChecked:t.isOptionChecked(e.slug,option.slug)})})).sort((function(a,b){return t.sortOptions(a,b,l)}));return _(_({},e),{},{filterOptions:c})}))},productIncludesTagOption:function(option,t){var e=this;if(t.type===m.f){var n=t.contentTags.map((function(t){return t.handle}));return option.matches.some((function(t){return n.includes(t)}))}if(!option.matches.some((function(e){var n;return t.tags.includes(e)||(null===(n=t.variantGroups)||void 0===n?void 0:n.some((function(t){var n;return null===(n=t.tags)||void 0===n?void 0:n.includes(e)})))})))return!1;var o=t.variants.filter((function(e){var n=Object(y.e)(e,t.variantGroups),o=[].concat(Object(r.a)(t.tags||[]),Object(r.a)(n.tags||[]));return option.matches.some((function(t){return o.includes(t)}))}));return this.isSale?o.some((function(n){return(Object(y.l)(t)||Object(y.p)(n,t.variantGroups))&&e.variantHasStock(n.sku)})):o.some((function(e){return!Object(y.p)(e,t.variantGroups)}))},productIncludesGenderOption:function(option,t){var e;if(t.type!==m.f&&"Accessories"===(e=null==t?void 0:t.productType)&&(e="Unisex"),t.type===m.f){if("Unisex"===(e=null==t?void 0:t.collectionType))return option.matches.includes(m.i)||option.matches.includes(m.m);"Accessories"===e&&(e="Unisex")}return option.matches.includes(e)},productIncludesSizeOption:function(option,t){if(t.type===m.f)return!0;var e=t.attributes.find((function(t){return t.name===m.l}));return((null==e?void 0:e.options)||[]).some((function(t){return option.matches.includes(t)}))},productIncludesColorOption:function(option,t){var e=this;if(t.type===m.f)return!0;var n=option.matches,o=t.attributes.find((function(t){return t.name===m.e})),l=(null==o?void 0:o.options)||[];if(!Object(y.c)(this.$store,l).some((function(t){return n.includes(t)})))return!1;var c=n.reduce((function(n,o){var l=t.variants.filter((function(t){var n=t.selectedAttributes.filter((function(t){return t.name===m.e})).map((function(t){return t.value})),l=Object(y.c)(e.$store,n);return[].concat(Object(r.a)(n),Object(r.a)(l)).includes(o)}));return[].concat(Object(r.a)(n),Object(r.a)(l))}),[]);return this.isSale?c.some((function(n){return(Object(y.l)(t)||Object(y.p)(n,t.variantGroups))&&e.variantHasStock(n.sku)})):c.some((function(e){return!Object(y.p)(e,t.variantGroups)}))},includesFilterAttributes:function(t,option,e){switch(!0){case"gender"===t:return this.productIncludesGenderOption(option,e);case"size"===t:return this.productIncludesSizeOption(option,e);case"color"===t:return this.productIncludesColorOption(option,e);default:return this.productIncludesTagOption(option,e)}},insertPanelsToFilteredProducts:function(t,e,n){return n||t.length<=2?[].concat(Object(r.a)(t),Object(r.a)(e)):this.allProducts.filter((function(n){return n.type!==m.f?t.find((function(t){return t.id===n.id})):e.find((function(t){return t.id===n.id}))}))},applyQueryParamFilters:function(){var t=this,e=this.$route.query,n=Object.keys(e);if(n.length||!this.availableFilters.length){if(n.includes("sort")){var o=e.sort;Object.values(v.c).includes(o)&&(this.sorting=_(_({},this.sorting),{},{filterOptions:Object(r.a)(this.sorting.filterOptions.map((function(option){return option.isChecked=option.slug===o,option})))}))}n.forEach((function(n){var r,o=t.availableFilters.find((function(t){return t.slug===n}));o&&(((null===(r=e[n])||void 0===r?void 0:r.split(":"))||[]).forEach((function(t){var e,n=null===(e=o.filterOptions)||void 0===e?void 0:e.find((function(option){return option.slug===t}));n&&(n.isChecked=!0)})),t.updateActiveFilters(!1))}))}},handleTracking:function(){if(this.activeFilters.length&&this.$tracking){var t=this.$route.params.slug,e=this.activeFilters.map((function(e){return{category:"Filter",action:t,label:e.slug,value:e.filterOptions.map((function(option){return option.slug}))}}));this.$tracking.filter(e)}},updateQueryParams:function(){var t,e=this.currentSorting!==v.c.RECOMMENDED?{sort:this.currentSorting}:{},n=this.activeFilters.reduce((function(t,e){var n;if(null==e||null===(n=e.filterOptions)||void 0===n||!n.length)return t;var r=e.filterOptions.map((function(option){return option.slug})).join(":");return _(_({},t),{},Object(o.a)({},e.slug,r))}),e);if(!Object(l.a)(null===(t=this.$route)||void 0===t?void 0:t.query,n))return this.queryParams=n,this.queryParams},getProductOptions:function(){var t=this,e=new Set,n=new Set,o=new Set,l=new Set;return this.products.forEach((function(c){if(c.type!==m.f){var d=c.tags.includes(C.e),f=(c.variantGroups||[]).filter((function(t){return t.tags.includes(C.e)})),h=(c.variantGroups||[]).filter((function(t){return!t.tags.includes(C.e)})),v=f.map((function(t){var e;return(null==t||null===(e=t.variants)||void 0===e?void 0:e.split(","))||[]})).flat(),O=c.variants.filter((function(e){if(t.isSale&&d)return!0;var n=v.includes(e.sku);return t.isSale?n:!d&&!n}));0!==O.length&&(O.forEach((function(t){var e=t.selectedAttributes.find((function(t){return t.name===m.e}));e&&n.add(e.value);var r=t.selectedAttributes.find((function(t){return t.name===m.l}));r&&l.add(r.value)})),t.isSale?[].concat(Object(r.a)(c.tags),[f.map((function(t){return t.tags}))]).flat(2).map((function(t){return e.add(t)})):[].concat(Object(r.a)(c.tags),[h.map((function(t){return t.tags}))]).flat(2).map((function(t){return e.add(t)})),c.productType&&o.add(c.productType))}})),{tags:e,colors:n,gender:o,size:l}},isFilterOptionAvailableInProducts:function(t,option,e){var n,o=this;return"Gender"===t?n=e.gender:"Size"===t?n=e.size:"Color"===t?(n=new Set,Object(r.a)(e.colors).forEach((function(t){Object(y.c)(o.$store,[t]).forEach((function(t){return n.add(t)}))}))):n=e.tags,option.matches.some((function(t){return n.has(t)}))}}},P=F,j=(n(1177),n(1)),component=Object(j.a)(P,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"collectionSection"},[n("div",{ref:"stickyToggle",staticClass:"Filter__division"}),t._v(" "),n("div",{staticClass:"Filter",class:{"is-open":t.filterOverlayIsOpen,"is-sticky":t.isStatsSticky}},[n("div",{staticClass:"Filter__inner"},[n("button",{staticClass:"Filter__trigger",on:{click:function(e){t.filterOverlayIsOpen=!0}}},[n("Heading",{staticClass:"Filter__trigger-heading",attrs:{size:"h6",family:"sans"}},[t._v("\n          Filter\n\n          "),t.totalFiltersApplied>0?[t._v("\n            ("),n("span",{staticClass:"Filter__count"},[t._v(" "+t._s(t.totalFiltersApplied)+" ")]),t._v(")\n          ")]:t._e(),t._v(" "),n("span",[n("BaseIcon",{staticClass:"Filter__filter-trigger-chevron",attrs:{name:"chevron"}})],1)],2)],1),t._v(" "),n("CollectionFilterCategories",{attrs:{categories:t.availableFilters,"is-open":t.filterOverlayIsOpen,handle:t.handle,"has-active-filters":t.activeFilters.length>0},on:{close:function(e){t.filterOverlayIsOpen=!1},resetFilters:t.onResetFilters}}),t._v(" "),n("Heading",{staticClass:"Filter__results-count",attrs:{size:"h6--small",family:"sans"}},[t._v("\n        "+t._s(t.filteredProductsCount)+" Results\n      ")]),t._v(" "),n("CollectionFilterSort",{attrs:{handle:t.handle,sorting:t.sorting},on:{"update:sorting":function(e){t.sorting=e}}})],1)]),t._v(" "),t._t("productGrid",null,{activeFilters:t.activeFilters,adjustedProducts:t.adjustedProducts,hideLabel:t.shouldHideProductLabel,hideProductById:t.hideProductById,shouldOverrideProductLabelByProductType:t.shouldOverrideProductLabelByProductType})],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BaseIcon:n(82).default,Heading:n(71).default,CollectionFilterCategories:n(1121).default,CollectionFilterSort:n(1122).default})},952:function(t,e,n){t.exports={}},967:function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return v})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return O}));var r=n(18),o=(n(51),n(3),n(22),n(37),n(73),n(5),n(15),n(292)),l=n(38);function c(t,e){if(!t||!t.productAttributes)return null;var n=t.productAttributes.find((function(t){return t.name===e}));return n&&n.options&&n.options.length?n.options[0]:null}function d(t,e){if(t.type===l.f)return t.collectionType||null;switch(e){case o.b:return t.productType||null;case o.d:return function(t){return c(t,"Category")||c(t,"Class")||o.c}(t);default:return null}}function f(t,e){return function(t){return o.a.includes(t)}(e)?t.products.reduce((function(t,n){var o=d(n,e);if(n.type===l.f&&"Unisex"===o)return[l.i,l.m].forEach((function(e){var o=t.find((function(t){return t.title===e}));o?o.products.push(n):t=[].concat(Object(r.a)(t),[{showTitle:!0,title:e,products:[n]}])})),t;var c=t.find((function(t){return t.title===o}));return c?(c.products.push(n),t):[].concat(Object(r.a)(t),[{showTitle:!0,title:o,products:[n]}])}),[]):[t]}var h=function(t){return f(t,o.d)},v=function(t){return f(t,o.b)},m=function(t){return function(t,e,n){return t.type===l.f||!!t.variants.length}},O=function(t){return t.collectionType===o.e}},973:function(t,e,n){"use strict";n(952)},978:function(t,e,n){"use strict";n.r(e);var r=n(18),o=(n(4),n(3),n(15),{name:"CollectionFilterCategory",props:{handle:{type:String,default:"",require:!0},name:{type:String,default:"collection"},slug:{type:String,default:""},heading:{type:String,default:""},options:{type:Array,default:function(){return[]}},isSorting:{type:Boolean}},data:function(){return{isOpen:!1,checkedOptions:[]}},computed:{total:function(){return this.isSorting?this.filterOptions[0].isChecked?0:1:this.filterOptions.filter((function(option){return option.isChecked})).length},adjustedRowsUi:function(){var t,e,n=(null!==(t=null===(e=this.filterOptions)||void 0===e?void 0:e.length)&&void 0!==t?t:0)+(this.isSorting?0:1);return!(this.filterOptions.length>6)&&"grid-template-rows: repeat(".concat(n,", minmax(0, 1fr));")},filterOptions:function(){return this.options.reduce((function(t,option){return t.some((function(t){return t.slug===option.slug}))?t:[].concat(Object(r.a)(t),[option])}),[])}},methods:{updateOptionState:function(option){var t={handle:this.handle,catSlug:this.slug,optionSlug:option.slug};if(this.isSorting)return this.$emit("updateOptionState",t),void this.closeOptionsDialog();this.$nuxt.$emit("updateOptionState",t)},toggleOptionsDialog:function(){this.isOpen?this.closeOptionsDialog():this.openOptionsDialog()},openOptionsDialog:function(){this.isOpen=!0,document.addEventListener("click",this.onClick),document.addEventListener("scroll",this.closeOptionsDialog,{passive:!0})},closeOptionsDialog:function(){this.isOpen&&(this.isOpen=!1,document.removeEventListener("click",this.onClick),document.removeEventListener("scroll",this.closeOptionsDialog,{passive:!0}))},onClick:function(t){var e=this.$refs.FilterCategory;!e.contains(t.target)&&e!==t.target&&this.closeOptionsDialog()}}}),l=(n(973),n(1)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"FilterCategory",staticClass:"FilterCategory",class:{"is-open":t.isOpen}},[n("button",{staticClass:"FilterCategory__heading",class:{"is-active":t.total>0},attrs:{"aria-expanded":""+t.isOpen,"aria-describedby":"filter-category-"+t.slug},on:{click:t.toggleOptionsDialog}},[n("Heading",{attrs:{tag:"span",size:"h6--small",family:"sans"}},[n("span",[t._v("\n        "+t._s(t.heading)+"\n\n        "),t.total>0&&!t.isSorting?[t._v("\n          ("),n("span",{staticClass:"Filter__count"},[t._v(t._s(t.total))]),t._v(")\n        ")]:t._e(),t._v(" "),n("BaseIcon",{staticClass:"FilterCategory__chevron",attrs:{name:"chevron"}})],2)])],1),t._v(" "),n("div",{class:["FilterCategory__options",t.isSorting&&"FilterCategory__options-sort"],attrs:{id:"filter-category-"+t.slug,"aria-hidden":""+!t.isOpen,role:"tooltip",tabindex:"-1"}},[n("ul",{staticClass:"FilterCategory__list",style:t.adjustedRowsUi},[t.isSorting?t._e():n("li",{staticClass:"FilterCategory__list-item"},[n("BaseCheckbox",{attrs:{"aria-labelledby":t.name+"-all",role:"option",value:t.total<=0},on:{input:function(e){return t.$emit("resetCategory",t.slug)}}},[t._v("\n          All\n        ")])],1),t._v(" "),t._l(t.filterOptions,(function(option,e){return n("li",{key:e,staticClass:"FilterCategory__list-item"},[n("BaseCheckbox",{attrs:{"aria-labelledby":t.name+"-"+option.name,"native-value":option,role:"option",value:option.isChecked},on:{input:function(e){return t.updateOptionState(option)}}},[option.hex?n("span",{staticClass:"FilterCategory__swatch",style:{backgroundColor:option.hex}}):t._e(),t._v("\n          "+t._s(option.name)+"\n        ")])],1)}))],2)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{BaseIcon:n(82).default,Heading:n(71).default,BaseCheckbox:n(567).default})}}]);